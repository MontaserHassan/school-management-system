<p-card header="School Details" class="classroom-card">
  <app-state-section [state]="sectionState">

    <!-- School Information -->
    <div>
      <h3 class="d-flex gap-2 align-items-center">
        <i class="pi pi-building"></i>
        <span>{{ school.schoolName }}</span>
      </h3>

      <p class="d-flex gap-2 align-items-center">
        <i class="pi pi-money-bill"></i>
        <strong>Subscription Fees:</strong>
        <span>{{ school.subscriptionFees }} USD</span>
      </p>

      <p class="d-flex gap-2 align-items-center">
        <i class="pi pi-calendar"></i>
        <strong>Subscription Way:</strong>
        <span>{{ school.subscriptionWay }}</span>
      </p>

      <div class="d-flex gap-2 align-items-center">
        <i class="pi pi-circle-on"></i>
        <strong>Subscription Status:</strong>
        <p-chip label="{{ school.subscriptionStatus }}" class="status-chip"
          [styleClass]="getStatusColor(school.subscriptionStatus || '')">
        </p-chip>
      </div>

      <div class="mt-2">
        <small><strong>Created At:</strong> {{ school.createdAt | date: 'short' }}</small>
      </div>
    </div>

    <!-- Tabs for Details -->
    <div class="mt-4">
      <p-tabView>
        <p-tabPanel header="Admin Details">
          <div class="row">
            <div class="col-6">
              <p class="d-flex gap-2 m-0 align-items-center">
                <i class="pi pi-user"></i>
                <span class="d-flex align-items-center">
                  <strong>Admin Name:</strong>
                  <p-button (onClick)="goToUserProfile(school.admin?._id || '')" label='{{ school.admin?.userName }}'
                    [text]="true" severity="secondary" />
                </span>
              </p>
            </div>
            <div class="col-6">
              <p class="d-flex gap-2 align-items-center">
                <i class="pi pi-envelope"></i>
                <strong>Email:</strong>
                <span>{{ school.admin?.email }}</span>
              </p>
            </div>
          </div>
        </p-tabPanel>

        <p-tabPanel header="Subscription Info">
          <div class="row">
            <div class="col-6">
              <p class="d-flex gap-2 align-items-center">
                <i class="pi pi-calendar"></i>
                <strong>Subscription Date:</strong>
                <span>{{ school.subscriptionDate | date:'medium' }}</span>
              </p>
            </div>
            <div class="col-6">
              <p class="d-flex gap-2 align-items-center">
                <i class="pi pi-circle-on"></i>
                <strong>Subscription Status:</strong>
                <span>{{ school.subscriptionStatus }}</span>
              </p>
            </div>
          </div>
        </p-tabPanel>

        <p-tabPanel header="Employees" *ngIf="school.employees?.length">
          <p-table [value]="school.employees || []">
            <ng-template pTemplate="header">
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-employee>
              <tr>
                <td>{{ employee.name }}</td>
                <td>{{ employee.email }}</td>
                <td>{{ employee.role }}</td>
              </tr>
            </ng-template>
          </p-table>
        </p-tabPanel>
      </p-tabView>
    </div>
  </app-state-section>
</p-card>