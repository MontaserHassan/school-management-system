<p-card header="Subjects List" class="subjects-card">
  <app-state-section [state]="sectionState">
    <p-table [value]="subjects" [lazy]="true" [paginator]="true" [rows]="pageSize" [totalRecords]="totalRowsCount"
      (onLazyLoad)="paginate($event)" [rowsPerPageOptions]="rowsPerPageOptions" [sortMode]="'single'" [dataKey]="'_id'">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="subjectName">Subject Name <p-sortIcon field="subjectName"></p-sortIcon></th>
          <th pSortableColumn="courseTime">Course Time <p-sortIcon field="courseTime"></p-sortIcon></th>
          <th pSortableColumn="typeOfTime">Type of Time <p-sortIcon field="typeOfTime"></p-sortIcon></th>
          <th pSortableColumn="createdAt">Created At <p-sortIcon field="createdAt"></p-sortIcon></th>
          <th pSortableColumn="updatedAt">Updated At <p-sortIcon field="updatedAt"></p-sortIcon></th>
          <th>Actions</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-subject>
        <tr>
          <td (click)="viewSubject(subject._id)">{{ subject.subjectName }}</td>
          <td>{{ subject.courseTime }}</td>
          <td>{{ subject.typeOfTime || 'N/A' }}</td>
          <td>{{ subject.createdAt | date:'shortDate' }}</td>
          <td>{{ subject.updatedAt | date:'shortDate' }}</td>
          <td>
            <p-menu #menu [model]="subjectAction" appendTo="body" [popup]="true">
              <ng-template pTemplate="item" let-item>
                <div class="p-menuitem-link" (click)="handleClick(item.label,subject)">
                  <span [class]="item.icon"></span>
                  <span class="mx-2">{{ item.label }}</span>
                </div>
              </ng-template>
            </p-menu>
            <p-button (onClick)="menu.toggle($event)" text icon="pi pi-ellipsis-v" />
          </td>
        </tr>
      </ng-template>
    </p-table>
  </app-state-section>
</p-card>