<p-card header="Classroom Details" class="classroom-details-card">
  <app-state-section [state]="sectionState">
    <div class="details-container">
      <div class="details-header">
        <h2>Classroom {{ classroom.room }}</h2>
        <p>Group: {{ classroom.group }}</p>
      </div>

      <div class="details-content">
        <div class="details-section">
          <h3>Basic Information</h3>
          <div class="info-grid">
            <div class="info-item">
              <strong>Student Cost:</strong> {{ classroom.studentCost }} {{ classroom.currencyOfCost | uppercase }}
            </div>
            <div class="info-item">
              <strong>Created At:</strong> {{ classroom.createdAt | date: 'medium' }}
            </div>
            <div class="info-item">
              <strong>Updated At:</strong> {{ classroom.updatedAt | date: 'medium' }}
            </div>
          </div>
        </div>

        <div class="details-section">
          <h3>Teachers</h3>
          <p-table [value]="classroom.teachers || []">
            <ng-template pTemplate="header">
              <tr>
                <th>Teacher Name</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-teacher>
              <tr>
                <td>{{ teacher.teacherName }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>

        <div class="details-section">
          <h3>Main Topics</h3>
          <div class="chips-container">
            <p-chip *ngFor="let topic of mainTopics" class="mx-1" [label]="topic"></p-chip>
            <button pButton icon="pi pi-plus" class="m-0 mx-2" [rounded]="true" [outlined]="true" severity="secondary"
              (click)="openAddTopicDialog()" type="button"></button>
          </div>
        </div>

        <div class="details-section">
          <h3>Schedule</h3>
          <p-accordion>
            <p-accordionTab *ngFor="let day of classroom.schedule" [header]="day.day">
              <p-table [value]="day.subjects || []">
                <ng-template pTemplate="header">
                  <tr>
                    <th>Subject Name</th>
                    <th>Start Time</th>
                    <th>End Time</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-subject>
                  <tr>
                    <td>{{ subject.subjectName }}</td>
                    <td>{{ subject.startTime }}</td>
                    <td>{{ subject.endTime }}</td>
                  </tr>
                </ng-template>
              </p-table>
            </p-accordionTab>
          </p-accordion>
        </div>

        <div class="details-section">
          <h3>Students</h3>
          <p-table [value]="classroom.students || []">
            <ng-template pTemplate="header">
              <tr>
                <th>
                  <div class="d-flex align-items-center">
                    <span class="m-0">Student Name</span>
                    <button pButton icon="pi pi-plus" class="m-0 mx-2" [rounded]="true" [outlined]="true"
                      severity="secondary" (click)="openAddStudentDialog()" type="button"></button>
                  </div>
                </th>
                <th>Actions</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-student>
              <tr>
                <td>{{ student.studentName }}</td>
                <td>
                  <button pButton type="button" icon="pi pi-eye" label="View Details" class="p-button-outlined"
                    (click)="viewDetails(student.studentId)"></button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </app-state-section>
</p-card>